<script src="https://js.stripe.com/v3/"></script>
<div class="row">
  <h1>Checkout</h1>  
</div>
<div class="row">
  <div class="col-12">Shipping details</div>
  <form class="col-12" method='post' action="/checkout" id="checkout-form">
    <input hidden name="orderId" value="{{orderId}}">
    <input hidden name="orderTotal" value="{{orderTotal}}">
    <div class="form-group row">
      <div class="col-8"> 
        <label for="emailAddress">Email address</label>
        <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email" name="email">
        <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-4">
        <label for="firstName">First Name</label>
        <input class="form-control" type="text" name="firstName" id="firstName" placeholder="First Name">
      </div>
      <div class="col-4">
        <label for="lastName">Last Name</label>
        <input class="form-control" type="text" name="lastName" id="lastName" placeholder="Last Name">
      </div>
    </div>
    <div class="form-group row">
      <div class="col-8">
        <label for="address">Address</label>
        <input type="text" class="form-control" id="address" placeholder="Street Address" name="address">
      </div>
    </div>
    <div class="form-group row">
      <div class="col-4">
        <label for="address">City</label>
        <input type="text" class="form-control" id="city" placeholder="City" name="city">
      </div>
      <div class="col-2">
        <label for="address">State</label>
        <input type="text" class="form-control" id="state" placeholder="state" name="state">
      </div>
      <div class="col-2">
        <label for="address">Zip Code</label>
        <input type="text" class="form-control" id="zipcode" placeholder="zip" name="zip">
      </div>
    </div>
    
    <!-- Using Optimizely feature flag to test out Stripe Checkout vs stripe elements -->

    {{#if redirectEnabled}}
      {{> redirectButton }}
    {{ else }}
      {{> cardForm }}
    {{/if}}

    <button class="btn btn-primary">Checkout</button>
  </form>
</div>


